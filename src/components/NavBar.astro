---
import {Image} from 'astro:assets'
import shortLogo from '../assets/images/short-logo-rosa-e-roxo.png'
import Icon from 'astro-icon'
import {links} from '../links'
---

<script>
    inicializarMenu()

    function abrirMenu() {
        document.getElementById('menu').classList.remove('left-[-650px]')
        document.getElementById('menu').classList.add('left-0')
        document.getElementById('abrir-menu').classList.remove('opacity-100')
        document.getElementById('abrir-menu').classList.add('opacity-0')
    }
    function fecharMenu() {
        document.getElementById('menu').classList.remove('left-0')
        document.getElementById('menu').classList.add('left-[-650px]')
        document.getElementById('abrir-menu').classList.remove('opacity-0')
        document.getElementById('abrir-menu').classList.add('opacity-100')
    }
    // Separando botões para abrir e fechar carrinho pela tag
    function inicializarMenu() {
        const botaoFecharMenu = document.getElementById('fechar-menu')
        const botaoAbrirMenu = document.getElementById('abrir-menu')

        botaoFecharMenu.addEventListener('click', fecharMenu)
        botaoAbrirMenu.addEventListener('click', abrirMenu)
    }
</script>

<header>
    <section
        id='menu'
        class='fixed top-0 left-0 bg-fuchsia-600/95 h-screen w-9/12 md:hidden text-slate-300 z-50 duration-300 border-r border-fuchsia-700 pt-4 px-2 flex flex-col'>
        <div class='text-fuchsia-100 m-1'>
            <Icon
                id='fechar-menu'
                name='seta'
                class='-rotate-90 cursor-pointer'
                width='36'
            />
        </div>
        <ul class='w-full flex flex-col pt-6'>
            {
                links.map((link) => (
                    <a
                        class='py-4 w-full flex items-start pl-5 cursor-default'
                        href={link.url}>
                        <li class='flex w-7/12 text-left text-fuchsia-100 text-3xl font-light rounded-l-md pb-4'>
                            <Icon
                            name={link.icon}
                            width='32'
                            class="cursor-pointer"
                            />
                            <p class='pl-3 cursor-pointer'>
                                {link.text}
                            </p>
                            </li>
                    </a>
                ))
            }
        </ul>
        <hr class='my-6 border-neutral-300 ' />

        
    </section>
    <nav
        id='navbar'
        class='bg-fuchsia-200 shadow-md shadow-fuchsia-100 w-full flex justify-between max-md:p-0'>
        <div
            class='max-w-6xl mx-auto object-center w-full flex justify-between md:pl-20 py-0 text-fuchsia-700 max-md:p-3'>
            <div id="abrir-menu" class="md:hidden cursor-pointer transition-opacity opacity-100 duration-500">
                <Icon
                    name='menu'
                    class='w-10 h-10'
                />
            </div>
            <a href='/'>
                <Image
                    quality={'mid'}
                    src={shortLogo}
                    alt='Logo Buque Choco Rosas'
                    class='md:w-40 md:h-20 max-md:hidden md:m-3'
                    decoding='async'
                    loading='lazy'
                />
            </a>
            <ul
                class='flex items-center divide-x-2 divide-neutral-500 text-neutral-600 font-bold tracking-widest transition-transform duration-500'>
                <li
                    class='hover:text-neutral-900 hover:underline px-8 max-md:hidden transition duration-300'>
                    <a href='/'>Início</a>
                </li>
                <li
                    class='hover:text-neutral-900 hover:underline md:px-7 max-md:hidden transition duration-300'>
                    <a href='/links'>Links</a>
                </li>
                <li
                    class='hover:text-neutral-900 hover:underline md:px-6 max-md:hidden transition duration-300'>
                    <a href='/produtos'>Produtos</a>
                </li>
                <li
                    class='hover:text-neutral-900 hover:underline md:px-6 max-md:hidden transition duration-300'>
                    <a href='/sobre'>Sobre</a>
                </li>
                <!-- <li
                    class="font-medium text-neutral-700 hover:text-neutral-900 hover:underline tracking-tight border-neutral-600 px-6 max-md:border-hidden cursor-pointer max-md:px-2 transition duration-300 max-md:text-lg"
                >
                    <a>Contato</a>
                </li> -->
            </ul>
        </div>
    </nav>
</header>
